<html>
    <head>
        <meta charset="UTF-8" />
        <title>[1차] 다트게임</title>
    </head>

    <body>
        <script>
            function solution(dartResult) {
                let answer = 0;
                let n = dartResult.length;
                let queue = [];
                let tmp = "";

                for (let i = 0; i < n; i++) {
                    let x = dartResult[i];
                    if (Number(x) >= 0 && Number(x) <= 9) {
                        if (Number(dartResult[i]) === 1 && Number(dartResult[i + 1]) === 0) queue.push(10);
                        else queue.push(Number(x));
                    } else if (x === "S" || x === "D" || x === "T") {
                        tmp = queue.pop();
                        if (x === "S") queue.push(Math.pow(tmp, 1));
                        if (x === "D") queue.push(Math.pow(tmp, 2));
                        if (x === "T") queue.push(Math.pow(tmp, 3));
                    } else if (x === "#" || x === "*") {
                        tmp = queue.pop();
                        if (x === "*") {
                            let tmp2 = queue.pop();
                            if (tmp2 !== undefined) {
                                queue.push(tmp2 * 2);
                                queue.push(tmp * 2);
                            } else queue.push(tmp * 2);
                        }
                        if (x === "#") queue.push(tmp * -1);
                    }
                }
                answer = queue.reduce((a, b) => a + b, 0);
                return answer;
            }

            let dartResult1 = "1S2D*3T";
            let dartResult2 = "1D2S#10S";
            let dartResult3 = "1D2S0T";
            let dartResult4 = "1S*2T*3S";
            let dartResult5 = "1D#2S*3S";
            let dartResult6 = "1T2D3D#";
            let dartResult7 = "1D2S3T*";
            console.log(solution(dartResult1)); //37
            console.log(solution(dartResult2)); //9
            console.log(solution(dartResult3)); //3
            console.log(solution(dartResult4)); //23
            console.log(solution(dartResult5)); //5
            console.log(solution(dartResult6)); //-4
            console.log(solution(dartResult7)); //59
        </script>
    </body>
</html>
