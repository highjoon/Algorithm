<html>
    <head>
        <meta charset="UTF-8" />
        <title>땅따먹기</title>
    </head>

    <body>
        <script>
            function solution(land) {
                let revLand = land.map((v) => v.slice()).reverse();
                let answer = 0;
                let revAnswer = 0;
                let row = land.length;
                let max = 0;
                let sum = 0;
                let idx = 0;

                answer = Math.max(...land[0]);
                idx = land[0].indexOf(answer);

                for (let i = 1; i < row; i++) {
                    land[i].splice(idx, 1, -1);
                    max = Math.max(...land[i]);
                    answer += max;
                    idx = land[i].indexOf(max);
                }

                revAnswer = Math.max(...revLand[0]);
                idx = revLand[0].indexOf(revAnswer);

                for (let i = 1; i < row; i++) {
                    revLand[i].splice(idx, 1, -1);
                    max = Math.max(...revLand[i]);
                    revAnswer += max;
                    idx = revLand[i].indexOf(max);
                }

                answer = Math.max(answer, revAnswer);
                return answer;
            }

            let n = [
                [1, 2, 3, 5],
                [5, 6, 7, 8],
                [4, 3, 2, 1]
            ];

            let n2 = [
                [4, 3, 2, 1],
                [2, 2, 2, 1],
                [6, 6, 6, 4],
                [8, 7, 6, 5]
            ];
            console.log(solution(n));
            console.log(solution(n2));
        </script>
    </body>
</html>
