<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <title>키패드누르기</title>
    </head>

    <body>
        <script>
            function distance(cur, idx) {
                return Math.abs(cur[0] - idx[0]) + Math.abs(cur[1] - idx[1]);
            }
            // 맨해튼거리 법칙!

            function solution(numbers, hand) {
                let answer = "";
                const coords = {
                    1: [0, 0],
                    2: [0, 1],
                    3: [0, 2],
                    4: [1, 0],
                    5: [1, 1],
                    6: [1, 2],
                    7: [2, 0],
                    8: [2, 1],
                    9: [2, 2],
                    "*": [3, 0],
                    0: [3, 1],
                    "#": [3, 2]
                };
                let lpos = coords["*"];
                let rpos = coords["#"];

                for (let x of numbers) {
                    if (x % 3 === 1) {
                        answer += "L";
                        lpos = coords[x];
                    } else if (x % 3 === 0 && x !== 0) {
                        // x !== 0 안쓰면 바로 밑에 조건이랑 겹침!
                        // x = 0이면 둘 다 포함되기 때문
                        answer += "R";
                        rpos = coords[x];
                    } else if (x % 3 === 2 || x === 0) {
                        let mid = coords[x];
                        if (distance(lpos, mid) < distance(rpos, mid)) {
                            answer += "L";
                            lpos = coords[x];
                        } else if (distance(lpos, mid) > distance(rpos, mid)) {
                            answer += "R";
                            rpos = coords[x];
                        } else if (distance(lpos, mid) === distance(rpos, mid)) {
                            if (hand === "right") {
                                answer += "R";
                                rpos = coords[x];
                            } else if (hand === "left") {
                                answer += "L";
                                lpos = coords[x];
                            }
                        }
                    }
                }
                return answer;
            }
            let numbers1 = [1, 3, 4, 5, 8, 2, 1, 4, 5, 9, 5];
            let hand1 = "right";
            let numbers2 = [7, 0, 8, 2, 8, 3, 1, 5, 7, 6, 2];
            let hand2 = "left";
            let numbers3 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];
            let hand3 = "right";
            console.log(solution(numbers1, hand1)); // LRLLLRLLRRL
            console.log(solution(numbers2, hand2)); // LRLLRRLLLRR
            console.log(solution(numbers3, hand3)); // LLRLLRLLRL
        </script>
    </body>
</html>
